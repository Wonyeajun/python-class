dom import sample, randint
# read_box_code: 10ê°œì˜ ìˆ«ì(0â€“9)ê°€ í˜•ì„±ë˜ëŠ” ë°©ë²•ì„ ê¸°ë¡í•œ ë¬¸ìì—´ íŠœí”Œì„ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ë“¤ì…ë‹ˆë‹¤.
# ì´ í•¨ìˆ˜ëŠ” ê° ìˆ«ì(str)ì™€ í•´ë‹¹ ìˆ«ìì— ëŒ€í•œ ëª¨ë“  ëª¨ì–‘(str)ì„ ì„¸íŠ¸(set)ë¡œ ë§¤í•‘í•˜ëŠ” ì‚¬ì „(dict)ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
# ê° ëª¨ì–‘ì˜ ë¬¸ìëŠ” ì•ŒíŒŒë²³ ìˆœì„œë¡œ ë‚˜ì—´ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìƒì ì½”ë“œì˜ ì‚¬ì „ í‘œí˜„ì´ë¼ ë¶€ë¦…ë‹ˆë‹¤.

def read_box_code(A):
    Dict = {}
    for i in A:
        B = i.split()
        B[1] = ''.join(sorted(B[1]))
        if B[0] in Dict:
            Dict[B[0]].add(B[1])
            print(B)
        else:
            Dict[B[0]] = {B[1]}
    return Dict

# letter2code: ë‘ ê°œì˜ ì¸ìˆ˜ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤: ğ‘–) ë¬¸ì l (str) ë° ğ‘–ğ‘–) ìƒì ì½”ë“œ B (dict)ì˜ ì‚¬ì „ í‘œí˜„.
# ì´ í•¨ìˆ˜ëŠ” ë¬¸ì lì„ ìƒì ì½”ë“œ Bì— ë”°ë¼ ì¸ì½”ë”©í•œ ê°’ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
# ê° ìˆ«ìëŠ” ê°€ëŠ¥í•œ ëŒ€ì•ˆë“¤ ì¤‘ í•˜ë‚˜ë¡œ ë¬´ì‘ìœ„ë¡œ ì„ íƒë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
# ëª¨ì–‘ì˜ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ì„ í•„ìš”ëŠ” ì—†ì§€ë§Œ, í—ˆìš©ë©ë‹ˆë‹¤.

def letter2code(letter, box_code):
    alphabet = ' ABCDEFGHIJKLMNOPQRSTUVWXYZ'
    idx = alphabet.find(letter)
    Ones = str(idx % 10)
    vals = list(box_code[Ones])
    A = vals[randint(0, len(vals) - 1)]
    result = sample(A, len(A))
    if idx >= 10:
        Ones = str(idx // 10)
        vals = list(box_code[Ones])
        A = vals[randint(0, len(vals) - 1)]
        result = ''.join(sample(A, len(A))) + '-' + ''.join(result)
    return ''.join(result)

# code2letter: ë‘ ê°œì˜ ì¸ìˆ˜ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤: ğ‘–) ì¸ì½”ë”©ëœ ë¬¸ì l ë° ğ‘–ğ‘–) ì¸ì½”ë”©ì— ì‚¬ìš©ëœ ìƒì ì½”ë“œ B (dict)ì˜ ì‚¬ì „ í‘œí˜„. ìˆ«ìëŠ” ê°€ëŠ¥í•œ ëª¨ë“  ëª¨ì–‘ìœ¼ë¡œ í‘œí˜„ë  ìˆ˜ ìˆìœ¼ë©°, ëª¨ì–‘ì˜ ì„¸ê·¸ë¨¼íŠ¸ëŠ” ì„ì˜ì˜ ìˆœì„œë¡œ ë‚˜ì—´ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì›ë˜ì˜ ë¬¸ìë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤(ëŒ€ë¬¸ì; str).

def code2letter():
    return
# encode: ë‘ ê°œì˜ ì¸ìˆ˜ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤: ğ‘–) ë©”ì‹œì§€ (str) ë° ğ‘–ğ‘–) ìƒì ì½”ë“œ B (dict)ì˜ ì‚¬ì „ í‘œí˜„. ì´ í•¨ìˆ˜ëŠ” ë©”ì‹œì§€ë¥¼ ìƒì ì½”ë“œ Bì— ë”°ë¼ ì¸ì½”ë”©í•œ ê°’ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ê° ìˆ«ìëŠ” ê°€ëŠ¥í•œ ëŒ€ì•ˆë“¤ ì¤‘ í•˜ë‚˜ë¡œ ë¬´ì‘ìœ„ë¡œ ì„ íƒë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ëª¨ì–‘ì˜ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ì„ í•„ìš”ëŠ” ì—†ì§€ë§Œ, í—ˆìš©ë©ë‹ˆë‹¤. ë©”ì‹œì§€ì˜ ë¬¸ìë§Œ ì¸ì½”ë”©ëœë‹¤ëŠ” ì ì„ ê°•ì¡°í•©ë‹ˆë‹¤. ë‹¤ë¥¸ ëª¨ë“  ë¬¸ìëŠ” ë¬´ì‹œë©ë‹ˆë‹¤.

def encode(sentence, box_code):
    sentence = sentence.replace(' ', '')
    sentence = sentence.upper()
    print(sentence)
    answer = ''
    for i in range(len(sentence)):
        alphabet = ' ABCDEFGHIJKLMNOPQRSTUVWXYZ'
        if sentence[i] in alphabet:
            idx = alphabet.find(sentence[i])
            Ones = str(idx % 10)
            vals = list(box_code[Ones])
            A = vals[randint(0, len(vals) - 1)]
            result = sample(A, len(A))
            if idx >= 10:
                Ones = str(idx // 10)
                vals = list(box_code[Ones])
                A = vals[randint(0, len(vals) - 1)]
                result = ''.join(sample(A, len(A))) + '-' + ''.join(result)
            answer += f"{''.join(result)} "
    return answer

# decode: ë‘ ê°œì˜ ì¸ìˆ˜ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤: ğ‘–) ì¸ì½”ë”©ëœ ë©”ì‹œì§€ (str) ë° ğ‘–ğ‘–) ì¸ì½”ë”©ì— ì‚¬ìš©ëœ ìƒì ì½”ë“œ B (dict)ì˜ ì‚¬ì „ í‘œí˜„. ìˆ«ìëŠ” ê°€ëŠ¥í•œ ëª¨ë“  ëª¨ì–‘ìœ¼ë¡œ í‘œí˜„ë  ìˆ˜ ìˆìœ¼ë©°, ëª¨ì–‘ì˜ ì„¸ê·¸ë¨¼íŠ¸ëŠ” ì„ì˜ì˜ ìˆœì„œë¡œ ë‚˜ì—´ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì›ë˜ ë©”ì‹œì§€ì˜ ë¬¸ìë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤(ëŒ€ë¬¸ì; str).

def decode():
    return

if __name__ == "__main__":
    code = ('0 hde', '1 b', '1 d', '2 fcah', '3 gfac', '4 bgf', '5 eah', '6 ghfc', '6 chgb', '7 afh', '7 ab', '8 fhcaeg', '9 eafh', '9 ebfa')
    box_code = read_box_code(code)
    print(f"box_code : {box_code}")
    #box_code : {'0': {'deh'}, '1': {'b', 'd'}, '2': {'acfh'}, '3': {'acfg'}, '4': {'bfg'}, '5': {'aeh'}, '6': {'bcgh', 'cfgh'}, '7': {'afh', 'ab'}, '8': {'acefgh'}, '9': {'aefh', 'abef'}}
    print(box_code['0'])
    {'deh'}
    print(box_code['1'])
    {'b', 'd'}
    print(box_code['9'])
    {'abef', 'aefh'}

    print(letter2code('H', box_code))
    'fecgha'
    print(letter2code('X', box_code))
    'hfac-bfg'
    #print(code2letter('fecgha', box_code))
    'H'
    #print(code2letter('hfac-bfg', box_code))
    'X'
    print(encode('And now for something completely different!', box_code))
    '''b b-bgf fbg d-bfg b-hae afhc-fagc bhgc b-eha b-hfceag d-feha d-hae b-agfc hae afh
    c-edh ghecfa fahe d-fgb ab gcaf b-aeh d-gfca d-gcbh d-chfa eah cahf-hed eah d-acfh
    hfac-hea fbg fbea ghcb chgb eha b-cahfeg hae b-bgf hcfa-hed'''
    print(decode(
        'b b-bgf fbg d-bfg b-hae afhc-fagc bhgc b-eha b-hfceag d-feha d-hae b-agfc hae afhc-edh ghecfa fahe d-fgb ab gcaf b-aeh d-gfca d-gcbh d-chfa eah cahf-hed eah d-acfh hfac-hea fbg fbea ghcb chgb eha b-cahfeg hae b-bgf hcfa-hed',
        box_code))
    'ANDNOWFORSOMETHINGCOMPLETELYDIFFERENT'
    print(decode(
        'd d-bgf bgf d-fgb d-hea ahcf-cfag cgfh d-ahe d-cgfeha b-fbae b-aeh b-fgac ahe afhc-ehd afghec fhea b-bfg ba cagf b-ahe d-cagf b-hgbc b-chfa aeh afhc-hde hae d-chaf cahf-hea fgb ehaf cgbh chgb hae b-aefcgh aeh d-bfg fach-hed',
        box_code))
    'ANDNOWFORSOMETHINGCOMPLETELYDIFFERENT'
